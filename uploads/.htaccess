# uploadsディレクトリの保護
# PHPの実行を無効化

# PHPエンジンを無効化
<IfModule mod_php.c>
    php_flag engine off
</IfModule>
<IfModule mod_php7.c>
    php_flag engine off
</IfModule>
<IfModule mod_php8.c>
    php_flag engine off
</IfModule>

# PHPファイルをテキストとして扱う
<FilesMatch "\.ph(p[345]?|t|tml)$">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Deny from all
    </IfModule>
</FilesMatch>

# ハンドラーを削除
<FilesMatch "\.ph(p[345]?|t|tml)$">
    SetHandler none
    SetHandler default-handler
</FilesMatch>

# スクリプト実行を無効化
Options -ExecCGI
RemoveHandler .php .phtml .php3 .php4 .php5 .php7 .php8 .phps
